-- bbs
DROP TABLE BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_BBS;


CREATE TABLE BBS(
	SEQ NUMBER(8) PRIMARY KEY,
	ID VARCHAR2(30) NOT NULL,
	TITLE VARCHAR2(200) NOT NULL,
	CONTENT VARCHAR2(4000) NOT NULL,
	WDATE DATE NOT NULL,
	DEL NUMBER(1) NOT NULL,
	READCOUNT NUMBER(8) NOT NULL
);

CREATE SEQUENCE SEQ_BBS
START WITH 1
INCREMENT BY 1;

ALTER TABLE BBS
ADD CONSTRAINT FK_BBS_ID FOREIGN KEY(ID)
REFERENCES MEMBER(ID);


DELETE FROM BBS;

SELECT * FROM BBS
WHERE TITLE LIKE '%수정%';


SELECT SEQ, ID, TITLE, CONTENT, WDATE, DEL, READCOUNT
FROM  (SELECT ROWNUM r, SEQ, ID,TITLE, CONTENT, WDATE, DEL, READCOUNT
		FROM   (SELECT * 
				FROM BBS 
				WHERE DEL <>1 AND ID = '%1%'
				ORDER BY WDATE DESC) ) 
WHERE 0 < r AND r <= 3
	



